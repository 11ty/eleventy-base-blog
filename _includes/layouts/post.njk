---
layout: layouts/base.njk
---

{% set emojiColor = emoji | getEmojiColor %}

<div class="progress-bar"></div>

<article class="post">
  <h1 id="post-title">
    {{ title }}&ensp;{{ emoji }}
  </h1>

  <ul class="post-metadata">
    <li>
      <time datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time>
    </li>
    {%- for tag in tags %}
      {%- set tagUrl %}/tags/{{ tag | slugify }}/{% endset %}
      <li>
        <a href="{{ tagUrl }}" class="post-tag">{{ tag }}</a>
        {%- if not loop.last %}, {% endif %}
      </li>
    {%- endfor %}
  </ul>

  <div class="wave-divider" style="--emoji-color: {{ emojiColor }};"></div>

  {{ content | safe }}

  <div class="wave-divider" style="--emoji-color: {{ emojiColor }};"></div>

{%- if collections.posts or collections.projects %}
  {%- set collection = collections.posts if tags.includes("posts") else collections.projects %}
  {%- set previousPost = collection | getPreviousCollectionItem %}
  {%- set nextPost = collection | getNextCollectionItem %}
  {%- if nextPost or previousPost %}
    <nav class="post-nav">
      {%- if previousPost %}
        <a href="{{ previousPost.url }}" class="post-nav-prev">
          <span class="post-nav-arrow">←</span>
          <span class="post-nav-title">{{ previousPost.data.title }}</span>
        </a>
      {%- endif %}
      {%- if previousPost and nextPost %}
        <span class="post-nav-divider">•</span>
      {%- endif %}
      {%- if nextPost %}
        <a href="{{ nextPost.url }}" class="post-nav-next">
          <span class="post-nav-title">{{ nextPost.data.title }}</span>
          <span class="post-nav-arrow">→</span>
        </a>
      {%- endif %}
    </nav>
  {%- endif %}
{%- endif %}
</article>