<!doctype html>
<html lang="{{ metadata.language }}" class="no-js">
	<script>document.documentElement.classList.remove('no-js');</script>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<title>{{ title or metadata.title }}</title>
		<meta name="description" content="{{ description or metadata.description }}">
		<meta name="generator" content="{{ metadata.generator }}">

		{# Favicons #}
		<link rel="icon" href="icon/favicons/favicon.ico" sizes="32x32">
		<link rel="icon" href="icon/favicons/icon.svg" type="image/svg+xml">
		<link rel="apple-touch-icon" href="icon/favicons/apple-touch-icon.png">
		<link rel="manifest" href="icon/favicons/manifest.webmanifest">

		<link rel="preload" as="font" href="/font/Switzer-Variable.subset.woff2" crossorigin>
		<link rel="preload" as="font" href="/font/Rag-Regular.subset.woff2" crossorigin>

		{#- Atom and JSON feeds included by default #}
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="{{ metadata.title }}">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="{{ metadata.title }}">

		{#- Add the contents of a file to the bundle #}
		{%- css %}
		{% include "public/css/reset.css" %}
		{% include "public/css/index.css" %}

		{# Include YouTube embed CSS only for post layouts #}
		{% if layout == "layouts/post.njk" %}
			{% include "public/css/prism.css" %}
			{% include "node_modules/lite-youtube-embed/src/lite-yt-embed.css" %}
		{% endif %}

		{# CSS for spin letters only on index #}
		{% if page.url == "/" %}
			{% include "public/css/spin-letters.css" %}
		{% endif %}
		{% endcss %}

		{%- js %}
		{% include "public/js/theme-toggle.js" %}
		{% include "public/js/chat-interface.js" %}

		{% if layout == "layouts/post.njk" %}
			{# Light embeds for YouTube & Vimeo #}
			{% include "node_modules/lite-youtube-embed/src/lite-yt-embed.js" %}
			{% include "node_modules/lite-vimeo-embed/lite-vimeo-embed.js" %}
		{% endif %}
		{% endjs %}

		{#- Render the CSS bundle using Inlined CSS (for the fastest site performance in production) #}
		<style>
			{% getBundle "css" %}
		</style>

		{#- Renders the CSS bundle using a separate file, if you can't set CSP directive style-src: 'unsafe-inline' #}
		{#- <link rel="stylesheet" href="{% getBundleFileUrl "css" %}"> #}
	</head>

	<body style="--nav-item-active: {{ eleventyNavigation.order | default(1) }};">
		<div class="noise-container"></div>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header class="site-header">
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				{% include "components/nav-bubble.njk" %}
				<div class="side-nav">
					<ul class="nav-list">
						<li id="chat-toggle" class="nav-item">Welcome!</li>
						{%- for entry in collections.all | eleventyNavigation %}
							<li class="nav-item">
								<a href="{{ entry.url }}"{% if entry.url == page.url %} aria-current="page"{% endif %}>{{ entry.title }}</a>
							</li>
						{%- endfor %}
					</ul>
				</div>
			</nav>
		</header>

		<main id="skip">
			{{ content | safe }}
		</main>

		<footer></footer>

		<!-- This page `{{ page.url | htmlBaseUrl }}` was built on {% currentBuildDate %} -->
	</body>
</html>
<script defer>
	{% getBundle "js" %}
</script>