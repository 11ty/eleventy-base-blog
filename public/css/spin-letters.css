.word {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	display: flex;
	z-index: 0;
	position: relative;
	justify-content: space-between;
	width: 100%;
	height: 50vh;
	text-align: center;
	/* Prevent highlight */
	user-select: none;
}

.word {
	visibility: visible; /* Show by default for non-JS environments */
}

.js-loaded .word {
	visibility: visible; /* Show when JS has finished loading */
}

.letter-wrapper {
	display: flex;
	position: relative;
	flex: 1;
	align-items: center; /* Center align items horizontally within the wrapper */
	justify-content: center;
	height: 0; /* We don't want height */
	top: var(--random-height);
}

.letter {
	z-index: calc(1000 - var(--random-size));
	position: absolute; /* Enable relative positioning for random vertical offset */

	/* Rotation based effects */
	transform: rotate3d(0, 0, 1, var(--rotation, 0deg));

	/* Size and placement */
	font-size: clamp(
		4rem,
		calc(32px + (var(--random-size) * (50vw - 32px)) / 100),
		384px
	);
	font-variation-settings: "wght" var(--font-weight, 400);
	animation: fadeIn 0.3s ease-in forwards;
	animation-delay: var(--random-delay);
	mix-blend-mode: overlay;

	/* Color */
	color: var(--accent-color, gray);
	-webkit-text-stroke: 1px var(--primary-color, black);
	text-stroke: 1px var(--primary-color, black);
	paint-order: stroke fill;

	/* Fade in */
	will-change: opacity;
	opacity: 0;
	transition: transform 1s cubic-bezier(0.25, 0.1, 0.25, 1);
	will-change: transform, font-variation-settings;

	/* No select */
	user-select: none;
	touch-action: manipulation; /* Changed from 'none' to allow scrolling */
	-webkit-touch-callout: none;
	-webkit-user-select: none; /* Safari */
	-ms-user-select: none; /* IE 10 and IE 11 */
	-moz-user-select: none; /* Firefox */
	-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
}

.letter.spinning {
	transition: none;
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

.card {
	position: relative;
	padding: 1rem;
	border: 1px solid var(--color-gray-90);
	border-radius: 0.25rem;
	background-color: color-mix(in srgb, Canvas 90%, transparent);
	box-shadow: var(--shadow-elevation-medium);
}

.card :first-child {
	margin-top: 0;
}

.js-loaded .letter {
	animation: none;
	transition: opacity 0.3s ease-in;
}
